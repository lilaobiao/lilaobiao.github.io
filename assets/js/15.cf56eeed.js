(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{181:function(e,t,s){"use strict";s.r(t);var a=s(0),r=Object(a.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),s("p",[e._v("wxss 是小程序的样式文件。在起步时我们已经讲了，每个小程序都有一个 app.wxss 的全局样式文件，而每个页面又有一个单独的样式文件。这两个文件是不需要我们在页面中引入的，小程序在编译时，会根据文件名自动载入。同时，小程序里引入样式也不是使用 link 标签。")]),e._v(" "),e._m(3),e._v(" "),s("p",[e._v("在小程序中，定义了一个全新的像素单位 rpx，它既不同于px，也不同于 rem。首先，小程序会获取我们手机的屏幕宽度，然后将宽度平均分成了750份，每一份就是 1rpx。例如：iPhone6 的屏幕宽度为 375px，则 1rpx 就等于 0.5px，而 iPhone6 Plus 的屏幕宽度为 414px，则 1rpx 就等于 0.552px。所以，在不同的手机中，rpx 的大小是不一样的。但这样做有个很大的好处，就是我们在开发时，可以让设计师把设计图宽度制作成 750 的整倍数，我们只需测出每个元素的大小，就能轻松的计算出实际大小，方便开发。例如：设计图的宽度为 750px，而设计图上的图片宽度为 400px，我们的样式就可以写成 width:400rpx；如果设计图的宽度为 1125px（1125/750=1.5），则设计图上一张 600px 宽度的图片就可以写成 width:400rpx（600/1.5 = 400）。")]),e._v(" "),e._m(4),e._v(" "),s("p",[e._v("如果我们的页面过多，必然会存在大量的样式文件。而有些组件样式，既不是所有页面都要用到，也不是只有一个页面用到，不管是写在app.wxss，还是写在单个 page 的 wxss 里，都不友好。这时我们可以把这些样式独立到一个单独的 wxss 中，只在需要的页面引入即可。@import 就是这样的一个应用场景。语法：")]),e._v(" "),e._m(5),s("p",[e._v('@import 既支持绝对路径，也支持相对路径。绝对路径从项目根目录开始，前面不需要 "/"，相对路径从引入的文件开始计算。需要注意的是，非当前页的样式不是在页面里引入，而是在页面所对应的 wxss 里引入。即如果你想在 index/index.wxml 里应用 common/lib/style.wxss 里的样式，你应该在 index/index.wxss 里加入 @import "common/lib/style.wxss"，跟 css 一样，引入的先后顺序存在样式覆盖问题，所以得考虑好引入顺序。')]),e._v(" "),e._m(6),e._v(" "),s("p",[e._v("在 wxss 中，background 属性不支持本地图片，只支持线上图片路径，即你不能像这样写 background:url(./img/bg.png)，这样写了也不会有效果。但同样支持 svg 和 base64 格式的图片。")]),e._v(" "),e._m(7),e._v(" "),s("p",[e._v("js 的语法和其他 js 语法差不多，但单独属于某个页面的 js 则不一样，因为它是页面的数据驱动，必须有一个 Page 对象。 Page 对象里面有 data 属性和页面各个生命周期的回调函数，data 里的数据用于页面展示，在 wxml 里面可访问到，生命周期回调函数可以定义一个或多个。详细内容可参见"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[e._v("小程序生命周期回调函数"),s("OutboundLink")],1),e._v("。在每一个页面 js 中，我们都可以通过 var app = getApp() 来获取小程序的 App 实例，用于获取或设置 globalData。")]),e._v(" "),e._m(8),e._v(" "),s("p",[e._v("和没有 link 标签引入样式一样，在小程序中，你也不能通过 script 标签引入 js 文件。只能在页面对应的 js 中通过 require 引入，require只支持相对路径。通过require 引入的js，必须得有 module.exports = {...} 导出相应的内容才能使用。以最初的代码结构为例，以下代码就不行：")]),e._v(" "),e._m(9),s("p",[e._v("更改如下方可：")]),e._v(" "),e._m(10),e._m(11),e._v(" "),s("p",[e._v("wxml 类似于 html 文件，但标签有所改变。准确来说，除了表单标签（input，buttom等）和媒体标签（video，image等）之外，他的基本标签就只有 block、view、text 这三个了，其中 text 为文本标签，相当于 span，view 和 block 为块级标签，相当于 div。而 block 标签，更多的是用来根据数据管理里面的内容。而其它的像 navigator、scroll-view 等，属于组件标签，有自己的一些特定的属性。")]),e._v(" "),s("p",[e._v("为方便后面的讲解，我们定义一个 Page 对象，如下：")]),e._v(" "),e._m(12),e._m(13),e._v(" "),s("p",[e._v("在小程序中，数据渲染跟双向绑定框架差不多，都是通过两对大括号绑定，如：")]),e._v(" "),e._m(14),s("p",[e._v("结果为 message，也支持一些简单的 js 语法，如：")]),e._v(" "),e._m(15),s("p",[e._v("结果")]),e._v(" "),e._m(16),e._m(17),e._v(" "),s("p",[e._v("wx:if 和 wx:else 属性用于条件判断，当条件为真时，渲染 if 里面的内容，否则渲染 else 里的内容，则如下代码")]),e._v(" "),e._m(18),s("p",[e._v("我们得到的渲染结果就是")]),e._v(" "),e._m(19),s("p",[e._v("还可以使用wx:elif")]),e._v(" "),e._m(20)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"基础语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础语法","aria-hidden":"true"}},[this._v("#")]),this._v(" 基础语法")])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[t("p",[this._v("因为最终得到的 wxml 依赖于 js 和 wxss，所以我们先讲解 wxss 和 js.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"wxss"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wxss","aria-hidden":"true"}},[this._v("#")]),this._v(" wxss")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"rpx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpx","aria-hidden":"true"}},[this._v("#")]),this._v(" rpx")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"import"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import","aria-hidden":"true"}},[this._v("#")]),this._v(" @import")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('@import "common/lib/style.wxss";\n@import "./style.wxss";\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"background"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#background","aria-hidden":"true"}},[this._v("#")]),this._v(" background")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js","aria-hidden":"true"}},[this._v("#")]),this._v(" js")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"require-和-module-exports"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#require-和-module-exports","aria-hidden":"true"}},[this._v("#")]),this._v(" require 和 module.exports")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("// util/util.js\nfunction add5(n){\n  return n+5;\n}\nvar aaa = 2;\n\n// index/index.js\nrequire('../../utils/util2');\nconsole.log(aaa); //报错\nconsole.log(add5()); //报错\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("// util/util.js\nfunction add5(n){\n  return n+5;\n}\nvar aaa = 2;\nmodule.exports = {\n    add5,\n    aaa\n}\n\n// index/index.js\nconst util = require('../../utils/util2');\nconsole.log(util.aaa); //2\nconsole.log(util.add5(5)); //10\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"wxml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wxml","aria-hidden":"true"}},[this._v("#")]),this._v(" wxml")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("Page({\n    data:{\n        msg:'message',\n        name: 'MINA',\n        var0: 0,\n        var1: 1,\n        var2: 2,\n        a: 1,\n        b: 2,\n        c: 3,\n        flag: true,\n        list: [\n            {name:'item1',id:1},\n            {name:'item2',id:2}\n        ],\n        object: {\n            key: 'Hello '\n        },\n        array: ['MINA']\n    }\n})\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"数据展示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据展示","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据展示")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("{{msg}}\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('<view>{{a + b}} + {{c}} + d</view>\n<view>{{a + b + c}} + d</view>\n<view id="item-{{name}}"></view>\n<view>{{"hello" + name}}</view>\n<view>{{object.key}} {{array[0]}}</view>\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('<view>3 + 3 + d</view>\n<view>6 + d</view>\n<view id="item-MINA"></view>\n<view>helloMINA</view>\n<view>Hello  MINA</view>\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"渲染条件判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#渲染条件判断","aria-hidden":"true"}},[this._v("#")]),this._v(" 渲染条件判断")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('<block wx:if="{{flag}}">\n    <text class="menu-text">flag为true</text>\n</block>\n<block wx:else>\n    <text class="menu-text">flag不为true</text>\n</block>\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('<text class="menu-text">flag不为true</text>\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('<view wx:if="{{list.length > 5}}">大于5</view>\n<view wx:elif="{{list.length > 2}}">大于2</view>\n<view wx:else>小于等于2</view>\n')])])])}],!1,null,null,null);r.options.__file="three.md";t.default=r.exports}}]);